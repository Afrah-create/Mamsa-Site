<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Madi Makerere University Students Association</title>
    <meta name="description" content="Admin dashboard for managing content of the Madi Makerere University Students Association website.">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/admin.css">
    <link rel="stylesheet" href="../css/responsive.css">
</head>
<body class="admin-body">
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="admin-nav">
            <div class="admin-logo">
                <img src="../images/mamsa-logo.png" alt="Madi Makerere University Students Association Logo" class="logo">
                <span class="logo-text">Admin Dashboard</span>
            </div>
            
            <div class="admin-user">
                <div class="user-info">
                    <span class="user-name" id="admin-user-name">Admin User</span>
                    <span class="user-role">Administrator</span>
                </div>
                <div class="user-actions">
                    <button class="btn btn-outline" id="preview-site">
                        <i class="fas fa-external-link-alt"></i>
                        Preview Site
                    </button>
                    <button class="btn btn-danger" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Admin Sidebar -->
    <aside class="admin-sidebar">
        <nav class="admin-nav-menu">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#content" class="nav-link" data-section="content">
                        <i class="fas fa-edit"></i>
                        Content Management
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#news" class="nav-link" data-section="news">
                        <i class="fas fa-newspaper"></i>
                        News Management
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#events" class="nav-link" data-section="events">
                        <i class="fas fa-calendar-alt"></i>
                        Events Management
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#leadership" class="nav-link" data-section="leadership">
                        <i class="fas fa-users"></i>
                        Leadership Management
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#gallery" class="nav-link" data-section="gallery">
                        <i class="fas fa-images"></i>
                        Gallery Management
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#settings" class="nav-link" data-section="settings">
                        <i class="fas fa-cog"></i>
                        Settings
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Admin Main Content -->
    <main class="admin-main">
        <!-- Dashboard Section -->
        <section class="admin-section active" id="dashboard-section">
            <div class="section-header">
                <h1 class="section-title">Dashboard Overview</h1>
                <p class="section-subtitle">Welcome to the admin panel</p>
            </div>
            
            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-newspaper"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="total-news">0</h3>
                        <p class="stat-label">News Articles</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="total-events">0</h3>
                        <p class="stat-label">Events</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="total-leaders">0</h3>
                        <p class="stat-label">Leadership Team</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-images"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="total-photos">0</h3>
                        <p class="stat-label">Gallery Photos</p>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-content">
                <div class="dashboard-card">
                    <h3>Recent Activity</h3>
                    <div class="activity-list" id="recent-activity">
                        <!-- Recent activity will be loaded dynamically -->
                    </div>
                </div>
                
                <div class="dashboard-card">
                    <h3>Quick Actions</h3>
                    <div class="quick-actions">
                        <button class="action-btn" data-action="add-news">
                            <i class="fas fa-plus"></i>
                            Add News Article
                        </button>
                        <button class="action-btn" data-action="add-event">
                            <i class="fas fa-plus"></i>
                            Add Event
                        </button>
                        <button class="action-btn" data-action="add-leader">
                            <i class="fas fa-plus"></i>
                            Add Leader
                        </button>
                        <button class="action-btn" data-action="upload-photo">
                            <i class="fas fa-plus"></i>
                            Upload Photo
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Content Management Section -->
        <section class="admin-section" id="content-section">
            <div class="section-header">
                <h1 class="section-title">Content Management</h1>
                <p class="section-subtitle">Manage website content and information</p>
            </div>
            
            <div class="content-tabs">
                <button class="tab-btn active" data-tab="homepage">Homepage</button>
                <button class="tab-btn" data-tab="about">About Page</button>
                <button class="tab-btn" data-tab="contact">Contact Info</button>
            </div>
            
            <div class="tab-content active" id="homepage-tab">
                <div class="content-form">
                    <h3>Homepage Content</h3>
                    <form id="homepage-form">
                        <div class="form-group">
                            <label for="hero-title">Hero Title</label>
                            <input type="text" id="hero-title" placeholder="Enter hero title">
                        </div>
                        
                        <div class="form-group">
                            <label for="hero-subtitle">Hero Subtitle</label>
                            <textarea id="hero-subtitle" rows="3" placeholder="Enter hero subtitle"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="mission-text">Mission Statement</label>
                            <textarea id="mission-text" rows="4" placeholder="Enter mission statement"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="vision-text">Vision Statement</label>
                            <textarea id="vision-text" rows="4" placeholder="Enter vision statement"></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </form>
                </div>
            </div>
            
            <div class="tab-content" id="about-tab">
                <div class="content-form">
                    <h3>About Page Content</h3>
                    <form id="about-form">
                        <div class="form-group">
                            <label for="about-mission">Mission</label>
                            <textarea id="about-mission" rows="4" placeholder="Enter mission text"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="about-vision">Vision</label>
                            <textarea id="about-vision" rows="4" placeholder="Enter vision text"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="about-history">History</label>
                            <textarea id="about-history" rows="6" placeholder="Enter history text"></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </form>
                </div>
            </div>
            
            <div class="tab-content" id="contact-tab">
                <div class="content-form">
                    <h3>Contact Information</h3>
                    <form id="contact-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contact-phone">Phone Number</label>
                                <input type="text" id="contact-phone" placeholder="Enter phone number">
                            </div>
                            <div class="form-group">
                                <label for="contact-email">Email Address</label>
                                <input type="email" id="contact-email" placeholder="Enter email address">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="contact-address">Address</label>
                            <textarea id="contact-address" rows="3" placeholder="Enter address"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="office-hours">Office Hours</label>
                            <textarea id="office-hours" rows="4" placeholder="Enter office hours"></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- News Management Section -->
        <section class="admin-section" id="news-section">
            <div class="section-header">
                <h1 class="section-title">News Management</h1>
                <div class="section-actions">
                    <button class="btn btn-primary" id="add-news-btn">
                        <i class="fas fa-plus"></i>
                        Add News Article
                    </button>
                </div>
            </div>
            
            <div class="news-list" id="news-list">
                <!-- News articles will be loaded dynamically -->
            </div>
        </section>

        <!-- Events Management Section -->
        <section class="admin-section" id="events-section">
            <div class="section-header">
                <h1 class="section-title">Events Management</h1>
                <div class="section-actions">
                    <button class="btn btn-primary" id="add-event-btn">
                        <i class="fas fa-plus"></i>
                        Add Event
                    </button>
                </div>
            </div>
            
            <div class="events-list" id="events-list">
                <!-- Events will be loaded dynamically -->
            </div>
        </section>

        <!-- Leadership Management Section -->
        <section class="admin-section" id="leadership-section">
            <div class="section-header">
                <h1 class="section-title">Leadership Management</h1>
                <div class="section-actions">
                    <button class="btn btn-primary" id="add-leader-btn">
                        <i class="fas fa-plus"></i>
                        Add Leader
                    </button>
                </div>
            </div>
            
            <div class="leadership-list" id="leadership-list">
                <!-- Leadership team will be loaded dynamically -->
            </div>
        </section>

        <!-- Gallery Management Section -->
        <section class="admin-section" id="gallery-section">
            <div class="section-header">
                <h1 class="section-title">Gallery Management</h1>
                <div class="section-actions">
                    <button class="btn btn-primary" id="upload-photo-btn">
                        <i class="fas fa-plus"></i>
                        Upload Photos
                    </button>
                </div>
            </div>
            
            <div class="gallery-grid" id="gallery-grid">
                <!-- Gallery photos will be loaded dynamically -->
            </div>
        </section>

        <!-- Settings Section -->
        <section class="admin-section" id="settings-section">
            <div class="section-header">
                <h1 class="section-title">Settings</h1>
                <p class="section-subtitle">Manage system settings and preferences</p>
            </div>
            
            <div class="settings-tabs">
                <button class="tab-btn active" data-tab="general">General</button>
                <button class="tab-btn" data-tab="security">Security</button>
                <button class="tab-btn" data-tab="backup">Backup</button>
            </div>
            
            <div class="tab-content active" id="general-tab">
                <div class="settings-form">
                    <h3>General Settings</h3>
                    <form id="general-settings-form">
                        <div class="form-group">
                            <label for="site-title">Site Title</label>
                            <input type="text" id="site-title" placeholder="Enter site title">
                        </div>
                        
                        <div class="form-group">
                            <label for="site-description">Site Description</label>
                            <textarea id="site-description" rows="3" placeholder="Enter site description"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="items-per-page">Items Per Page</label>
                            <select id="items-per-page">
                                <option value="10">10</option>
                                <option value="20">20</option>
                                <option value="50">50</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Save Settings</button>
                    </form>
                </div>
            </div>
            
            <div class="tab-content" id="security-tab">
                <div class="settings-form">
                    <h3>Security Settings</h3>
                    <form id="security-settings-form">
                        <div class="form-group">
                            <label for="current-password">Current Password</label>
                            <input type="password" id="current-password" placeholder="Enter current password">
                        </div>
                        
                        <div class="form-group">
                            <label for="new-password">New Password</label>
                            <input type="password" id="new-password" placeholder="Enter new password">
                        </div>
                        
                        <div class="form-group">
                            <label for="confirm-password">Confirm Password</label>
                            <input type="password" id="confirm-password" placeholder="Confirm new password">
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Change Password</button>
                    </form>
                </div>
            </div>
            
            <div class="tab-content" id="backup-tab">
                <div class="settings-form">
                    <h3>Backup & Restore</h3>
                    <div class="backup-actions">
                        <button class="btn btn-primary" id="export-data">
                            <i class="fas fa-download"></i>
                            Export Data
                        </button>
                        <button class="btn btn-secondary" id="import-data">
                            <i class="fas fa-upload"></i>
                            Import Data
                        </button>
                        <input type="file" id="import-file" accept=".json" style="display: none;">
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <div class="modal" id="news-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Add News Article</h3>
                <button class="modal-close" id="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="news-form">
                    <div class="form-group">
                        <label for="news-title">Title</label>
                        <input type="text" id="news-title" placeholder="Enter news title" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="news-category">Category</label>
                        <select id="news-category" required>
                            <option value="">Select Category</option>
                            <option value="academics">Academics</option>
                            <option value="social">Social</option>
                            <option value="sports">Sports</option>
                            <option value="announcements">Announcements</option>
                            <option value="community">Community</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="news-content">Content</label>
                        <textarea id="news-content" rows="8" placeholder="Enter news content" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="news-image">Featured Image</label>
                        <input type="file" id="news-image" accept="image/*">
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-news">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Article</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Similar modals for events, leadership, and gallery would be added here -->

    <!-- JavaScript Files -->
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getStorage } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';
        
        // Initialize Firebase
        const firebaseConfig = {
            apiKey: "your-api-key-here",
            authDomain: "madi-makerere-students.firebaseapp.com",
            projectId: "madi-makerere-students",
            storageBucket: "madi-makerere-students.appspot.com",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:abcdef123456"
        };
        
        const app = initializeApp(firebaseConfig);
        window.db = getFirestore(app);
        window.auth = getAuth(app);
        window.storage = getStorage(app);
    </script>
    
    <!-- Admin Services -->
    <script type="module" src="../js/auth-service.js"></script>
    <script type="module" src="../js/content-service.js"></script>
    <script type="module" src="../js/backup-service.js"></script>
    <script type="module" src="../js/multi-admin-service.js"></script>
    <script src="../js/firebase-admin.js"></script>
    <script src="../js/firebase-content-manager.js"></script>
</body>
</html>
